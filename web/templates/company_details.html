{% extends "base.html" %} {% block title %}{{ company.Name }} Details{% endblock
%} {% block content %}
<div class="row">
    <div class="col-md-12">
        <div class="d-flex justify-content-between align-items-center">
            <h2>{{ company.Name }}</h2>
            <div>
                <a
                    href="{{ url_for('main.analyze_company', company_name=company.Name) }}"
                    class="btn btn-primary"
                    >Analyze Report</a
                >
                <a
                    href="{{ url_for('main.companies') }}"
                    class="btn btn-secondary"
                    >Back to Companies</a
                >
            </div>
        </div>

        <div class="card mt-4">
            <div class="card-body">
                <h4>Company Details</h4>
                <div class="row">
                    <div class="col-md-6">
                        <p>
                            <strong>Industry:</strong> {{ company.Industry if
                            company.Industry else 'Not specified' }}
                        </p>
                        {% if 'Annual Revenue' in company %}
                        <p>
                            <strong>Annual Revenue:</strong> {{ company['Annual
                            Revenue'] }}
                        </p>
                        {% endif %} {% if 'Employee Size' in company %}
                        <p>
                            <strong>Employee Size:</strong> {{ company['Employee
                            Size'] }}
                        </p>
                        {% endif %} {% if 'Geographical Region' in company %}
                        <p>
                            <strong>Geographical Region:</strong> {{
                            company['Geographical Region'] }}
                        </p>
                        {% endif %}
                    </div>
                    <div class="col-md-6">
                        {% if 'Executive Summary' in company %}
                        <p>
                            <strong>Executive Summary:</strong><br />
                            {{ company['Executive Summary'][:200] }}{% if
                            company['Executive Summary']|length > 200 %}...{%
                            endif %}
                        </p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>

        {% if 'Strategic Priorities (Energy Transition)' in company %}
        <div class="card mt-4">
            <div class="card-body">
                <h4>Energy Transition Strategy</h4>
                <p>
                    <strong>Strategic Priorities:</strong><br />{{
                    company['Strategic Priorities (Energy Transition)'] }}
                </p>

                {% if 'Financial Commitments (Energy Transition)' in company %}
                <p>
                    <strong>Financial Commitments:</strong><br />{{
                    company['Financial Commitments (Energy Transition)'] }}
                </p>
                {% endif %} {% if 'Sustainability Milestones' in company %}
                <p>
                    <strong>Sustainability Milestones:</strong><br />{{
                    company['Sustainability Milestones'] }}
                </p>
                {% endif %}
            </div>
        </div>
        {% endif %} {% if 'Renewables' in company or 'Energy Efficiency' in
        company or 'CCUS' in company %}
        <div class="card mt-4">
            <div class="card-body">
                <h4>Identified Actions</h4>
                <div class="row">
                    {% for action in ['Renewables', 'Energy Efficiency',
                    'Electrification', 'Bioenergy', 'CCUS', 'Hydrogen Fuel',
                    'Behavioral Changes'] %} {% if action in company and
                    company[action] == True %}
                    <div class="col-md-6 mb-3">
                        <div class="alert alert-success">
                            <strong>{{ action }}</strong>
                            {% if action in company and company[action] == True
                            %}
                            <div class="col-md-6 mb-3">
                                <div class="alert alert-success">
                                    <strong>{{ action }}</strong>
                                    {% if action + '_Justification' in company
                                    and company[action + '_Justification'] %}
                                    <p class="mb-0 small">
                                        {{ company[action + '_Justification'] }}
                                    </p>
                                    {% endif %}
                                </div>
                            </div>
                            {% elif action in company %}
                            <div class="col-md-6 mb-3">
                                <div class="alert alert-secondary">
                                    <strong>{{ action }}</strong> - Not
                                    identified
                                </div>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                    {% elif action in company %}
                    <div class="col-md-6 mb-3">
                        <div class="alert alert-secondary">
                            <strong>{{ action }}</strong> - Not identified
                        </div>
                    </div>
                    {% endif %} {% endfor %}
                </div>
            </div>
        </div>
        {% endif %}

        <div class="card mt-4">
            <div class="card-body">
                <h4>Energy Transition Roadmap</h4>
                {% if has_recommendation %}
                <div
                    class="d-flex justify-content-between align-items-center mb-3"
                >
                    <p class="mb-0">Roadmap has been generated.</p>
                    <div>
                        <a
                            href="{{ url_for('main.view_roadmap', company_name=company.Name) }}"
                            class="btn btn-info"
                            >View Roadmap</a
                        >
                        {% if has_visualization %}
                        <a
                            href="{{ url_for('main.view_visualization', company_name=company.Name) }}"
                            class="btn btn-success"
                            >View Visualization</a
                        >
                        {% endif %}
                    </div>
                </div>
                {% else %}
                <p>No energy transition roadmap has been generated yet.</p>
                <a
                    href="{{ url_for('main.generate_roadmap', company_name=company.Name) }}"
                    class="btn btn-primary"
                    >Generate Roadmap</a
                >
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}
